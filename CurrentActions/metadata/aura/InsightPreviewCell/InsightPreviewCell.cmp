<aura:component >
<ltng:require styles="/resource/SLDS100/assets/styles/salesforce-lightning-design-system-ltng.css" scripts="/resource/DataTables/datatables.js,/resource/moment,/resource/chroma" afterScriptsLoaded="{!c.postScript}"/>

<aura:handler name="init" value="{!this}" action="{!c.doInit}" />

<aura:attribute name="insight" type="Insight__c" />
<aura:attribute name="time" type="String" />

<aura:attribute name="icon" type="String" />
<aura:attribute name="icon_class" type="String" />
<aura:attribute name="max_updated" type="Integer" />
<aura:attribute name="index" type="String" />

<aura:handler event="c:InsightEvent" action="{!c.setSelectedInsight}"/>
<aura:attribute name="tint" type="String" default="rgb(82, 121, 187)" />


<div id="{!'preview-cell-'+v.index}" class="slds-card__body center slds-p-around--medium" onclick="{!c.clickInsight}">

  <div class="slds-media slds-comment slds-hint-parent">

    <div class="slds-media__figure">
        <span class="{!'slds-icon__container '+ v.icon_class}">
          <c:svg class="slds-icon" xlinkHref="{!'/resource/SLDS100/assets/icons/'+ v.icon}" />
        </span>
    </div>

    <div class="slds-media__body">
      <div class="slds-text-longform slds-text-body--regular slds-p-bottom--x-small" style="display: inline-block"><strong>{!v.insight.Name}</strong></div>

       <div class="slds-text-body--small slds-p-left--x-small" style="color:#8E99A6; display: inline-block" >

             <a target="_blank" href="{!'https://rowan-dev-ed.my.salesforce.com/'+v.insight.Id}"><ui:outputDateTime value="{!v.insight.LastModifiedDate}" format="EEE, h:mm a"/></a>
      </div>

      <p>{!v.insight.Details__c}</p>

    </div>
  </div>
</div>


</aura:component>